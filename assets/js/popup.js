//script for open button, popup and close button
//this allows the buttons and popups on the Library page to work


//opens popup when clicking on an element with the class "openPopup" and producing popup with the id of the data-popup-id attribute
document.addEventListener("DOMContentLoaded", function() {
    document.addEventListener("click", function(event) {
        if (event.target && event.target.classList.contains("openPopup")) {
            const popupID = event.target.getAttribute("data-popup-id");
            const popup = document.getElementById(popupID);
            if (popup) {
                popup.style.display = "flex";
            }
        }
    });
});

//closes popup when clicking outside of the popup
document.addEventListener('click', (event) => {
    if (event.target && event.target.classList.contains("popup")) {
        popup.style.display = 'none';
    }
});

//closes popup when clicking the close button
//this ensures elements are search after everything is loaded - this means the close button generated by js can be clicked
document.addEventListener("DOMContentLoaded", function() {
    document.addEventListener("click", function(event) {
        if (event.target && event.target.classList.contains("closePopup")) {
            const popup = event.target.closest(".popup");
            if (popup) {
                popup.style.display = "none";
            }
        }
    });
});